//- Index Page
//- 
//- Data loading strategy:
//- 1. Global data (global.json): Loaded via config, accessed as global.*
//-    - siteName, navigation, footer (used by Header/Footer components)
//- 2. Page data (index.json): Loaded via $dataFiles, accessed directly
//-    - pageTitle, pageDescription, hero, demos, features, quickstart
//- 
//- Why this separation?
//- - Global data: Shared across all pages, rarely changes
//- - Page data: Specific to this page, may change frequently
//- 
//- Note: Layout component receives only title/description as props.
//- Header/Footer access global.* directly (see pugtail.config.js for setup).

//- Load page-specific data files
- const $dataFiles = ['/data/index.json']

//- Rename for shorthand syntax
- const title = pageTitle
- const description = pageDescription

include ../components/Layout.pug
include ../components/Card.pug
include ../components/Feature.pug

Layout(title, description)
  slot(main)
    .bg-gradient-to-br.from-blue-50.via-white.to-purple-50.min-h-screen
      
      //- Hero Section
      section.container.mx-auto.px-6.py-20.text-center
        .inline-block.px-4.py-2.bg-blue-100.text-blue-800.rounded-full.text-sm.font-semibold.mb-6= hero.badge
        
        h1.text-6xl.font-bold.text-gray-900.mb-6
          = hero.title
          span.block.text-4xl.text-blue-600.mt-2= hero.subtitle
        
        p.text-xl.text-gray-600.mb-8.max-w-3xl.mx-auto= hero.description
        
        .flex.justify-center.gap-4.mb-12
          each button in hero.buttons
            - const isPrimary = button.variant === 'primary'
            - const btnClass = isPrimary ? 'bg-blue-600 text-white hover_bg-blue-700 shadow-lg' : 'bg-white text-blue-600 border-2 border-blue-600 hover_bg-blue-50'
            a(
              href=button.href
              target="_blank"
              class=`px-8 py-3 rounded-lg font-semibold transition-colors ${btnClass}`
            )= button.text
      
      //- Demo Pages Section
      section.container.mx-auto.px-6.py-12
        h2.text-4xl.font-bold.text-center.text-gray-900.mb-12= demos.title
        
        .grid.grid-cols-1.md_grid-cols-2.gap-8.max-w-4xl.mx-auto
          each demo in demos.items
            Card(
              icon=demo.icon
              title=demo.title
              description=demo.description
              href=demo.href
            )
      
      //- Features Section
      section.container.mx-auto.px-6.py-20
        h2.text-4xl.font-bold.text-center.text-gray-900.mb-4= features.title
        p.text-center.text-gray-600.mb-12.text-lg= features.subtitle
        
        .grid.grid-cols-1.md_grid-cols-2.lg_grid-cols-3.gap-6.max-w-6xl.mx-auto
          each feature in features.items
            Feature(
              icon=feature.icon
              title=feature.title
              description=feature.description
            )
      
      //- Quick Start Section
      section.container.mx-auto.px-6.py-20.bg-white.rounded-2xl.shadow-xl.max-w-4xl.my-12
        h2.text-4xl.font-bold.text-center.text-gray-900.mb-8= quickstart.title
        
        .space-y-6
          each step in quickstart.steps
            div
              h3.text-xl.font-semibold.text-gray-900.mb-3= step.title
              pre.bg-gray-900.text-gray-100.p-4.rounded-lg.overflow-x-auto
                code= step.code
